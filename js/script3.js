const burgerButton=document.querySelector(".burger__button"),burgerBody=document.querySelector(".burger__body"),burgerButtonDecors=document.getElementsByClassName("burger__decor"),mainBody=document.querySelector("body");burgerButton.addEventListener("click",(function(){mainBody.classList.toggle("body_noScroll"),burgerBody.classList.length<2||burgerBody.classList.toggle("burger__hide"),burgerBody.classList.toggle("burger__show");for(let e=0;e<burgerButtonDecors.length;e++)burgerButtonDecors[e].classList.toggle("burger__dec__active")}));let lazyImg=document.querySelectorAll("img[data-src]");const windowHeight=document.documentElement.clientHeight;let lazyImagesPositions=[];function lazyScrollCheck(){let e=lazyImagesPositions.findIndex((e=>pageYOffset>e-windowHeight));e>=0&&(lazyImg[e].dataset.src&&(lazyImg[e].src=lazyImg[e].dataset.src,lazyImg[e].removeAttribute("data-src"),lazyImg[e].addEventListener("load",(function(){lazyImg[e].parentElement.classList.remove("skeleton__img")}))),delete lazyImagesPositions[e])}lazyImg.length>0&&lazyImg.forEach((e=>{e.dataset.src&&(lazyImagesPositions.push(e.getBoundingClientRect().top+pageYOffset),lazyScrollCheck())})),window.addEventListener("scroll",(function(){lazyScrollCheck()}));const tabButtons=document.getElementsByClassName("blog__tab__list__item"),Tabs=document.getElementsByClassName("blog__column");for(let e=0;e<tabButtons.length;e++)tabButtons[e].addEventListener("click",(function(){for(let e=0;e<Tabs.length;e++)Tabs[e].classList.remove("tab_show");Tabs[e].classList.add("tab_show");for(let e=0;e<tabButtons.length;e++)tabButtons[e].classList.remove("tab_show");tabButtons[e].classList.add("tab_show")}));const CategoryDecors=document.querySelectorAll(".sidebar__category__list__item img"),categorySublists=document.getElementsByClassName("category__sublist"),categorySublistButtons=document.getElementsByClassName("sidebar__category__list__item");for(let e=0;e<categorySublistButtons.length;e++)categorySublistButtons[e].addEventListener("click",(function(){for(let e=0;e<categorySublists.length;e++)categorySublists[e].classList.remove("sublist__show"),CategoryDecors[e].classList.remove("sub__Dec_show");categorySublists[e].classList.toggle("sublist__show"),CategoryDecors[e].classList.toggle("sub__Dec_show")}));const commentRef='\n<article class="discuss__comment main_comm">\n                               \n<div class="main__cont">\n    <div class="comment__person__img">\n        <img src="img/my_ava.jpg" alt="">\n    </div>\n    \n    \n        <div class="comm__content">\n            <div class="comment__person__info">\n                <h1 class="comm__person__name _low_title">me</h1>\n                <h6 class="comm__person__messg _subtitle">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ullamcorper accumsan malesuada sed feugiat. Rhoncus vel ultrices metus ut sed. Sit nunc, in nibh nisi, viverra quis sociis malesuada.</h6>\n            </div>\n            \n            <div class="comm__actions">\n                <div class="comm__reply__button">\n                    <ul class="comment__reply__decors reply_hide">\n                        <li class="comment__reply_decor repl_lefW"></li>\n                        <li class="comment__reply_decor repl_righW"></li>\n                    </ul>\n                    <h3 class="comment_reply_count _subtitle">0</h3>\n        \n                </div>\n                <div class="commnet__reply__action">\n                    <img src="img/reply.svg" width="40px " alt="">\n                </div>\n            </div>\n            \n        </div>\n</div>\n\n<div class="for__replies reply_hide">\n        <div class="reply_type__block">\n            \n        </div>\n        \n        \n    </div>\n\n\n</article>\n',commentsCount=document.querySelector(".comments__count"),mainCommentInput=document.querySelector(".type__input"),mainSendBtn=document.querySelector(".type_send"),commMsgs=document.getElementsByClassName("comm__person__messg"),commsCont=document.querySelector(".blog__discuss__comments"),replyButtons=document.getElementsByClassName("commnet__reply__action"),replytypeBl=document.getElementsByClassName("reply_type__block");let replyTxtAreas,replySend;const replyShow=document.getElementsByClassName("comment__reply__decors"),replyConts=document.getElementsByClassName("for__replies"),replyCount=document.getElementsByClassName("comment_reply_count"),replyInpRefer='<article class="discuss__type">\n<div class="discuss__type__block">\n    <textarea placeholder="Reply...." name="" id="" cols="30" rows="10" class="type__input _subtitle reply__type"></textarea>\n\n</div>\n<div class="footer__news__button reply_send">\n    <img src="img/send.svg" alt="">\n\n</div>\n</article>';let currentComment,newMessgCon;function newMessgae(e){const t=document.createElement("article");t.innerHTML=commentRef,1==e?replyTxtAreas=mainCommentInput:(t.querySelector(".comment__person__img").classList.add("sub__comm"),t.classList.add("sub_comm")),t.querySelector(".comm__person__messg").textContent=replyTxtAreas.value,t.querySelector(".comment__reply__decors").addEventListener("click",(function(){t.querySelector(".for__replies").classList.toggle("reply_hide"),t.querySelector(".comment__reply__decors").classList.toggle("reply_hide")})),t.querySelector(".commnet__reply__action").addEventListener("click",(function(){for(let e=0;e<replytypeBl.length;e++)replytypeBl[e].innerHTML="";t.querySelector(".for__replies").classList.remove("reply_hide"),t.querySelector(".reply_type__block").innerHTML=replyInpRefer,replyTxtAreas=document.querySelector(".reply__type"),replySend=document.querySelector(".reply_send"),replySend.addEventListener("click",(function(){newMessgae(!1),""==!newMessgCon&&t.querySelector(".for__replies").appendChild(newMessgCon),newMessgCon=""}))}));let s=replyTxtAreas.parentElement;if(0==e)for(;s=s.parentElement,!(s.classList.length>0&&(s.classList.contains("discuss__comment")&&(s.querySelector(".comment_reply_count").textContent=parseInt(s.querySelector(".comment_reply_count").textContent)+1),s.classList.contains("blog__discuss__comments"))););for(let e=0;e<replytypeBl.length;e++)replytypeBl[e].innerHTML="";newMessgCon=t,replyTxtAreas.value=""}function addMsgAction(){for(let e=0;e<replyShow.length;e++)replyShow[e].addEventListener("click",(function(){replyConts[e].classList.toggle("reply_hide"),replyShow[e].classList.toggle("reply_hide")})),replyButtons[e].addEventListener("click",(function(){for(let e=0;e<replytypeBl.length;e++)replytypeBl[e].innerHTML="";replytypeBl[e].innerHTML=replyInpRefer,replyConts[e].classList.remove("reply_hide"),currentComment=replyConts[e],replyTxtAreas=document.querySelector(".reply__type"),replySend=document.querySelector(".reply_send"),replySend.addEventListener("click",(function(){newMessgae(!1),replyConts[e].appendChild(newMessgCon),newMessgCon=""}))}))}addMsgAction(),mainSendBtn.addEventListener("click",(function(){newMessgae(!0),commsCont.appendChild(newMessgCon),newMessgCon=""}));